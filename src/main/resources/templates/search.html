<html data-th-replace="~{@{fragments/baseLayout} :: layout(~{::title}, ~{::section})}">
    <title>Search - Standby</title>
    <section>
       <form method="POST" data-th-action="@{/search}" data-th-object="${searchData}">
     <div class="form-row">
        <div class="input-group  col-12 col-md-6">
            <input  data-th-replace="~{@{fragments/form/input}(name='q', size='40', required='true', class='form-control', placeholder='Search short films, filmmakers...' )}"/>
            <div class="input-group-append">
                <button data-th-replace="~{@{fragments/namedButton} :: imgBtn(classes='btn-light border-input', type='submit', src=@{/static/search-icon.svg})}"></button>
            </div>
        </div>
        
     </div>
       <div class="d-flex justify-content-start">
       <div class="">
            <select data-th-replace="~{@{fragments/form/select}(name='dateFilter', values='${T(io.github.fourfantastics.standby.model.form.DateFilter).values()}', label='Upload date')}"></select>
        </div>
         <div class="ml-3">
            <select data-th-replace="~{@{fragments/form/select}(name='sortType', values='${T(io.github.fourfantastics.standby.model.form.SortType).values()}', label='Order by')}"></select>
        </div>
       </div>

    <hr />
     <div class="d-flex flex-column">
      <th-block data-th-each="filmmaker : ${filmmakers}">
      <div data-th-replace="~{@{fragments/filmmakerItem}(
                                name=${filmmaker.getName()},
                                id=${filmmaker.getId()},
                                photoUrl=${filmmaker.getPhotoUrl()},
                                class='mb-4'
                                )}"></div>
      </th-block>
            <th-block data-th-switch="${shortFilms.size() != 0}">
                <th-block data-th-case="true">
                    <th-block data-th-each="shortFilm : ${shortFilms}">
                        <th-block data-th-with="uploader = ${shortFilm.getUploader()}">
                            <div
                                data-th-replace="~{@{fragments/feedItem}(
                                userName=${uploader.getName()},
                                profileId=${uploader.getId()},
                                photoUrl=${uploader.getPhotoUrl()},
                                date=${shortFilm.getFormattedRelativeUploadTime()},
                                shortFilm=${shortFilm},
                                class='mb-4'
                                )}"
                            ></div>
                        </th-block>
                    </th-block>
        
                        <nav data-th-replace="~{@{fragments/form/pagination}('pagination')}"></nav>
                
                </th-block>
                <div data-th-case="false" class="text-center">
                    <div class="row mt-5 mb-5">
                        <div class="col-4 col-md-5"></div>
                        <div class="col-4 col-md-2">
                            <img data-th-src="@{/static/check.svg}" />
                        </div>
                        <div class="col-4 col-md-5"></div>
                    </div>
                    <h3>Nothing to show here</h3>
                    <p>You should start following some filmmakers so you can see their recent activity here!</p>
                </div>
            </th-block>
        </div>
        </form>
    </section>
</html>

